<div id="comment-{{ commentId }}" class="bg-white rounded-lg shadow-md p-6">
	<span class="text-blue-600 font-medium">{{ name ~ ' ' ~ lastName }}</span>
	<twig:CommentText commentId="{{ commentId }}" comment="{{ comment }}" />

	<form id="editCommentForm-{{ commentId }}" style="display: none" class="space-y-4" onsubmit="return false;">
		<div class="">
			<textarea
				name="editTextarea-{{ commentId }}"
				id="editTextarea-{{ commentId }}"
				class="block w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
				maxlength="255"
			>
{{ comment }}</textarea
			>

			<span id="commentLength-{{ commentId }}" class="text-sm text-gray-500">{{ comment|length }}/255</span>
		</div>
		<p id="editCommentErrorMessage-{{ commentId }}" class="mt-1 text-sm text-red-600"></p>
		<div class="flex justify-end">
			<button
				type="button"
				onclick="ForumApp.submitEditCommentIfValid(this.form, {{ commentId }})"
				class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow"
				title="Save changes"
			>
				<i class="fas fa-save"></i>
			</button>
		</div>
	</form>

	<div class="flex justify-between mt-4">
		<button
			id="editCommentButton-{{ commentId }}"
			class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-4 rounded-lg"
			onclick="ForumApp.editComment('{{ commentId }}')"
			title="Edit comment"
		>
			<i class="fas fa-edit"></i>
		</button>

		<form
			hx-post="{{ path('comment_delete', {'id': commentId}) }}"
			hx-target="#comment-{{ commentId }}"
			hx-swap="outerHTML"
			onsubmit="return confirm('Are you sure you want to delete this comment?');"
			class="inline"
		>
			<button
				type="submit"
				class="bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg shadow"
				title="Delete comment"
			>
				<i class="fas fa-trash"></i>
			</button>
		</form>
	</div>
</div>
