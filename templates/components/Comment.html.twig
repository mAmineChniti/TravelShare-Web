<div
	id="comment-{{ commentId }}"
	class="bg-white border border-gray-200 rounded-lg shadow-md p-4 dark:bg-gray-800 dark:border-gray-700"
>
	<div class="flex items-center justify-between">
		<span class="text-blue-600 font-medium dark:text-blue-400">{{ name ~ ' ' ~ lastName }}</span>
		<div class="flex space-x-2">
			<button
				id="editCommentButton-{{ commentId }}"
				class="inline-flex items-center px-3 py-1 text-sm font-medium text-gray-800 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:ring-4 focus:ring-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600 dark:focus:ring-gray-600"
				onclick="ForumApp.editComment('{{ commentId }}')"
				title="Edit comment"
			>
				<i class="fas fa-edit mr-1"></i>
			</button>

			<form
				hx-post="{{ path('comment_delete', {'id': commentId}) }}"
				hx-target="#comment-{{ commentId }}"
				hx-swap="outerHTML"
				onsubmit="return confirm('Are you sure you want to delete this comment?');"
				class="inline"
			>
				<button
					type="submit"
					class="inline-flex items-center px-3 py-1 text-sm font-medium text-white bg-red-600 border border-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:ring-red-300 dark:bg-red-700 dark:hover:bg-red-800 dark:focus:ring-red-800"
					title="Delete comment"
				>
					<i class="fas fa-trash mr-1"></i>
				</button>
			</form>
		</div>
	</div>

	<twig:CommentText commentId="{{ commentId }}" comment="{{ comment }}" />

	<form id="editCommentForm-{{ commentId }}" style="display: none" class="space-y-4 mt-4" onsubmit="return false;">
		<div>
			<textarea
				name="editTextarea-{{ commentId }}"
				id="editTextarea-{{ commentId }}"
				class="block w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 resize-none"
				maxlength="255"
			>
{{ comment }}</textarea
			>
			<span id="commentLength-{{ commentId }}" class="text-sm text-gray-500 dark:text-gray-400"
				>{{ comment|length }}/255</span
			>
		</div>
		<p id="editCommentErrorMessage-{{ commentId }}" class="mt-1 text-sm text-red-600 dark:text-red-400"></p>
		<div class="flex justify-end">
			<button
				type="button"
				onclick="ForumApp.submitEditCommentIfValid(this.form, {{ commentId }})"
				class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 dark:bg-blue-700 dark:hover:bg-blue-800 dark:focus:ring-blue-800"
				title="Save changes"
			>
				<i class="fas fa-save mr-1"></i>
			</button>
		</div>
	</form>
</div>
