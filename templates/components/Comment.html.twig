<div id="comment-{{ commentId }}" class="mb-2 bg-gray-100 p-4 rounded-lg">
	<span class="font-semibold text-gray-800">{{ name ~ ' ' ~ lastName }}</span>
	<twig:CommentText commentId="{{ commentId }}" comment="{{ comment }}" />

	<form id="editCommentForm-{{ commentId }}" style="display: none" class="mt-2" onsubmit="return false;">
		<div class="relative">
			<textarea
				name="editTextarea-{{ commentId }}"
				id="editTextarea-{{ commentId }}"
				class="w-full p-3 pb-8 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
				maxlength="255"
			>
{{ comment }}</textarea
			>

			<span
				id="commentLength-{{ commentId }}"
				class="absolute bottom-2 left-3 text-sm text-gray-400 pointer-events-none"
				>{{ comment|length }}/255</span
			>
		</div>
		<p id="editCommentErrorMessage-{{ commentId }}" class="text-red-500 text-sm mt-2"></p>
		<div class="flex justify-end mt-2">
			<button
				type="button"
				onclick="ForumApp.submitEditCommentIfValid(this.form, {{ commentId }})"
				class="p-2 w-10 h-10 bg-blue-600 text-white rounded-full shadow hover:bg-blue-700 transition-all cursor-pointer flex items-center justify-center"
				title="Save changes"
			>
				<i class="fa fa-check"></i>
			</button>
		</div>
	</form>

	<div class="flex justify-end items-center space-x-3 mt-2">
		<button
			id="editCommentButton-{{ commentId }}"
			class="p-2 w-10 h-10 bg-green-500 hover:bg-green-700 text-white rounded-full shadow transition-all cursor-pointer flex items-center justify-center"
			onclick="ForumApp.editComment('{{ commentId }}')"
			title="Edit comment"
		>
			<i class="fa fa-edit"></i>
		</button>

		<form
			hx-post="{{ path('comment_delete', {'id': commentId}) }}"
			hx-target="#comment-{{ commentId }}"
			hx-swap="outerHTML"
			onsubmit="return confirm('Are you sure you want to delete this comment?');"
			class="inline-block"
		>
			<button
				type="submit"
				class="p-2 w-10 h-10 bg-red-500 hover:bg-red-700 text-white rounded-full shadow transition-all cursor-pointer flex items-center justify-center"
				title="Delete comment"
			>
				<i class="fa fa-trash"></i>
			</button>
		</form>
	</div>
</div>
