{% extends 'base.html.twig' %} {% block title %}Manage Flights{% endblock %} {% block body %}
<div class="container mx-auto px-4 mt-8 space-y-6">
	<h1 class="text-5xl font-bold mb-6">Manage Flights</h1>

	<div class="flex justify-end">
		<a
			href="{{ path('app_add_flight') }}"
			class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow"
		>
			Add New Flight
		</a>
	</div>

	<div id="error-messages" class="mt-4">
		{% if errors is defined and errors|length > 0 %} {% for error in errors %}
		<p class="text-sm text-red-600">{{ error }}</p>
		{% endfor %} {% endif %}
	</div>
	<div id="success-messages" class="mt-4">
		{% for message in app.flashes('success') %}
		<p class="text-sm text-green-600">{{ message }}</p>
		{% endfor %}
	</div>

	<div class="bg-white rounded-lg shadow-md p-6">
		<table class="w-full border-collapse border border-gray-300">
			<thead class="bg-gray-100">
				<tr>
					<th class="border border-gray-300 px-4 py-2">Title</th>
					<th class="border border-gray-300 px-4 py-2">Destination</th>
					<th class="border border-gray-300 px-4 py-2">Price</th>
					<th class="border border-gray-300 px-4 py-2">Available Places</th>
					<th class="border border-gray-300 px-4 py-2">Departure</th>
					<th class="border border-gray-300 px-4 py-2">Return</th>
					<th class="border border-gray-300 px-4 py-2">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% if voyages is not empty %} {% for voyage in voyages %}
				<tr class="hover:bg-gray-50">
					<td class="border border-gray-300 px-4 py-2">{{ voyage.titre }}</td>
					<td class="border border-gray-300 px-4 py-2">{{ voyage.destination }}</td>
					<td class="border border-gray-300 px-4 py-2">{{ voyage.prix }} â‚¬</td>
					<td class="border border-gray-300 px-4 py-2">{{ voyage.placesDisponibles }}</td>
					<td class="border border-gray-300 px-4 py-2">{{ voyage.dateDepart|date('d-m-Y') }}</td>
					<td class="border border-gray-300 px-4 py-2">{{ voyage.dateRetour|date('d-m-Y') }}</td>
					<td class="border border-gray-300 px-4 py-2 space-x-2">
						<a
							href="{{ path('app_edit_flight', {id: voyage.offresVoyageId}) }}"
							class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-1 px-3 rounded-lg"
						>
							Edit
						</a>
						<form
							action="{{ path('app_delete_flight', {id: voyage.offresVoyageId}) }}"
							method="post"
							class="inline"
							onsubmit="return confirm('Are you sure you want to delete this flight?');"
						>
							<button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-medium py-1 px-3 rounded-lg">
								Delete
							</button>
						</form>
					</td>
				</tr>
				{% endfor %} {% else %}
				<tr>
					<td colspan="7" class="text-center text-gray-700 py-4">
						No flights found. Click "Add New Flight" to create one.
					</td>
				</tr>
				{% endif %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
