{% extends 'base.html.twig' %} {% block title %}Flights{% endblock %} {% block body %}
<div class="container mx-auto px-4 mt-8 space-y-6">
	<h1 class="text-5xl font-bold mb-6">Available Flights</h1>

	<div id="error-messages" class="mt-4">
		{% if errors is defined and errors|length > 0 %} {% for error in errors %}
		<p class="text-sm text-red-600">{{ error }}</p>
		{% endfor %} {% endif %}
	</div>
	<div id="success-messages" class="mt-4">
		{% if success is defined and success|length > 0 %} {% for message in success %}
		<p class="text-sm text-green-600">{{ message }}</p>
		{% endfor %} {% endif %}
	</div>

	{% if voyages is not empty %}
	<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
		{% if voyages|length == 0 or voyages|filter(v => v.placesDisponibles == 0)|length > 0 %}
		<div class="text-center text-gray-700">
			<p class="text-base">No flights available at the moment.</p>
		</div>
		{% else %} {% for voyage in voyages %} {% if voyage.placesDisponibles > 0 %}
		<div class="bg-white rounded-lg shadow-md p-6">
			<div class="space-y-2">
				<h2 class="text-3xl font-semibold">{{ voyage.titre }}</h2>
				<p class="text-base text-gray-700">Destination: <span class="font-medium">{{ voyage.destination }}</span></p>
				<p class="text-base text-gray-700">Price: <span class="font-medium">{{ voyage.prix }} â‚¬</span></p>
				<p class="text-base text-gray-700">
					Available Places: <span class="font-medium">{{ voyage.placesDisponibles }}</span>
				</p>
			</div>
			<div class="mt-4">
				<a
					href="{{ path('app_flight_details', {id: voyage.offresVoyageId}) }}"
					class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow block text-center"
				>
					View Details
				</a>
			</div>
		</div>
		{% endif %} {% endfor %} {% endif %}
	</div>
	{% else %}
	<p class="text-center text-gray-700">No flights available at the moment.</p>
	{% endif %}
</div>
{% endblock %}
